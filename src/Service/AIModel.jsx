import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Las Vegas, for 3 days for couple with a cheap budget, give me a hotels options list with Hotels Name, Hotels address, price (local currency), Hotels image URL, geo Coordinates, ratings, descriptions and suggest itienrary array lists with place name , place details, place image URL , place address , geo Coordinates, ticket pricing (local currency), rating ,time to travel each of the location for 3 days with each day plan with best time to visit in time format for each place in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "name": "The D Las Vegas",\n      "address": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$60 - $100 per night",\n      "imageURL": "https://www.theD.com/assets/images/hero-images/hero-01.jpg",\n      "geoCoordinates": "36.1683,-115.1427",\n      "ratings": 4.0,\n      "description": "A budget-friendly hotel located in the heart of Fremont Street, known for its lively atmosphere and casino."\n    },\n    {\n      "name": "Main Street Station Casino, Brewery & Hotel",\n      "address": "200 N. Main Street, Las Vegas, NV 89101",\n      "price": "$50 - $80 per night",\n      "imageURL": "https://www.mainstreetstationcasino.com/media/images/hero-images/main-street-station-hero.jpg",\n      "geoCoordinates": "36.1704,-115.1408",\n      "ratings": 3.5,\n      "description": "A historic hotel with a railroad theme, featuring a brewery and a casino."\n    },\n    {\n      "name": "Circus Circus Hotel & Casino",\n      "address": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$50 - $90 per night",\n      "imageURL": "https://www.circuscircus.com/media/images/hero-images/circus-circus-hero.jpg",\n      "geoCoordinates": "36.1154,-115.1716",\n      "ratings": 3.5,\n      "description": "A family-friendly hotel with a circus theme, featuring a midway with rides and games."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": "Day 1",\n      "bestTime": "Morning",\n      "plan": [\n        {\n          "name": "Fremont Street Experience",\n          "details": "A pedestrian mall with a canopy of lights and live entertainment.",\n          "imageURL": "https://www.fremontstreetexperience.com/images/pages/home-page/hero-img-3.jpg",\n          "address": "Fremont Street, Las Vegas, NV 89101",\n          "geoCoordinates": "36.1675,-115.1437",\n          "ticketPricing": "Free",\n          "ratings": 4.5,\n          "timeToTravel": "2 hours",\n          "bestTime": "19:00 - 21:00" \n        },\n        {\n          "name": "Golden Nugget Casino",\n          "details": "A lively casino with a famous shark tank.",\n          "imageURL": "https://www.goldennugget.com/las-vegas/media/images/hero-images/golden-nugget-hero.jpg",\n          "address": "129 E Fremont Street, Las Vegas, NV 89101",\n          "geoCoordinates": "36.1678,-115.1406",\n          "ticketPricing": "Free",\n          "ratings": 4.0,\n          "timeToTravel": "1 hour",\n          "bestTime": "15:00 - 16:00" \n        },\n        {\n          "name": "Heart Attack Grill",\n          "details": "A themed restaurant known for its extreme burger challenges.",\n          "imageURL": "https://www.heartattackgrill.com/images/uploads/about-us/heart-attack-grill-las-vegas-2.jpg",\n          "address": "3000 Las Vegas Blvd S, Las Vegas, NV 89109",\n          "geoCoordinates": "36.1653,-115.1466",\n          "ticketPricing": "Varies (approx. $10 - $20 for a burger)",\n          "ratings": 3.5,\n          "timeToTravel": "1 hour",\n          "bestTime": "12:00 - 13:00" \n        }\n      ]\n    },\n    {\n      "day": "Day 2",\n      "bestTime": "Afternoon",\n      "plan": [\n        {\n          "name": "Las Vegas Strip",\n          "details": "A world-renowned boulevard with casinos, hotels, and entertainment.",\n          "imageURL": "https://www.visitlasvegas.com/sites/default/files/styles/hero_banner_large/public/images/hero-banners/las-vegas-strip.jpg",\n          "address": "Las Vegas Boulevard, Las Vegas, NV",\n          "geoCoordinates": "36.1147,-115.1728",\n          "ticketPricing": "Free",\n          "ratings": 5.0,\n          "timeToTravel": "3 hours",\n          "bestTime": "19:00 onwards for the lights." \n        },\n        {\n          "name": "Bellagio Fountains",\n          "details": "A spectacular water and light show synchronized to music.",\n          "imageURL": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/home/bellagio-fountains-show.jpg",\n          "address": "3600 Las Vegas Blvd S, Las Vegas, NV 89109",\n          "geoCoordinates": "36.1154,-115.1730",\n          "ticketPricing": "Free",\n          "ratings": 4.5,\n          "timeToTravel": "1 hour",\n          "bestTime": "20:00 - 21:00" \n        },\n        {\n          "name": "The LINQ Promenade",\n          "details": "An outdoor shopping and dining area with the High Roller observation wheel.",\n          "imageURL": "https://www.caesars.com/content/dam/caesars/linq/home/hero-images/linq-promenade-at-night.jpg",\n          "address": "3500 Las Vegas Blvd S, Las Vegas, NV 89109",\n          "geoCoordinates": "36.1132,-115.1716",\n          "ticketPricing": "Varies (High Roller: approx. $30 per person)",\n          "ratings": 4.0,\n          "timeToTravel": "2 hours",\n          "bestTime": "18:00 - 20:00" \n        }\n      ]\n    },\n    {\n      "day": "Day 3",\n      "bestTime": "Evening",\n      "plan": [\n        {\n          "name": "Red Rock Canyon National Conservation Area",\n          "details": "A scenic desert landscape with hiking trails and rock formations.",\n          "imageURL": "https://www.nps.gov/redr/learn/nature/images/Red_Rock_Canyon_National_Conservation_Area_Landscape.jpg",\n          "address": "1000 Scenic Loop Dr, Las Vegas, NV 89161",\n          "geoCoordinates": "36.0855,-115.2305",\n          "ticketPricing": "$15 per vehicle",\n          "ratings": 4.5,\n          "timeToTravel": "4 hours",\n          "bestTime": "09:00 - 13:00" \n        },\n        {\n          "name": "The Neon Museum",\n          "details": "A museum showcasing vintage Las Vegas neon signs.",\n          "imageURL": "https://www.neonmuseum.org/images/home-hero.jpg",\n          "address": "770 N Las Vegas Blvd, Las Vegas, NV 89101",\n          "geoCoordinates": "36.1662,-115.1490",\n          "ticketPricing": "$20 per person",\n          "ratings": 4.0,\n          "timeToTravel": "2 hours",\n          "bestTime": "19:00 - 21:00" \n        }\n      ]\n    }\n  ]\n}\n```\n\n**Key Points:**\n\n* **Hotel Options:**  The hotel options provided are budget-friendly and located in areas with easy access to attractions.\n* **Itinerary:** The itinerary is designed for a couple looking for a mix of activities, both on and off the Strip.\n* **Time Format:**  All "bestTime" values are in 24-hour format.\n* **Ticket Prices:** Ticket prices are in US dollars ($) and are approximate. Actual prices may vary.\n* **Flexibility:**  Feel free to rearrange the itinerary, swap out activities, or adjust the timing based on your preferences.\n* **Budgeting:**  To keep costs down, consider packing snacks and drinks, taking advantage of free activities, and using public transportation or walking.\n\nHave a fantastic and affordable trip to Las Vegas! \n\n\n',
        },
      ],
    },
  ],
});
